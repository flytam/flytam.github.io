<!DOCTYPE html>
<html lang="zh-Hans">
<head>
    <meta charset="utf-8">
    <meta name="baidu-site-verification" content="code-dIcFuFl2mE" >
    <meta name="google-site-verification" content="wape3ytOwC3RowSpyEC2hv0xY_nFeiO84AUG5pB1j_c">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="referrer" content="no-referrer" />
    <meta name="keywords" content="fe,web,node.js,react.js,frontend">
    <meta name="description" content="一个关于web开发知识的博客/A blog about web development">
    <meta name="author" content="flytam">
    
    <title>
        
            打造Github Issue到Hexo部署自动工作流 |
        
        Geek技术前线
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/fe.svg">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"blog.flytam.vip","root":"/","language":"zh-Hans","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":false,"init_open":true},"style":{"primary_color":"#888888","avatar":"https://avatars.githubusercontent.com/u/20512530?v=4","favicon":"images/fe.svg","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":"scale","first_screen":{"enable":false,"background_img":"/images/bg.svg","description":"Keep writing and Keep loving."},"scroll":{"progress_bar":true,"percent":{"enable":false}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.4.2"><link rel="alternate" href="/atom.xml" title="flytam's blog" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
            <a class="logo-title" href="/">
                Geek技术前线
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/about"
                            >
                                ABOUT
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               target="_blank" rel="noopener" href="https://github.com/flytam"
                            >
                                GITHUB
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/about">ABOUT</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       target="_blank" rel="noopener" href="https://github.com/flytam">GITHUB</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">打造Github Issue到Hexo部署自动工作流</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="https://avatars.githubusercontent.com/u/20512530?v=4">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">flytam</span>
                        
                            <span class="author-label">Lv4</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-04-10 16:32:37</span>
        <span class="mobile">2022-04-10 16:32</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/CI-CD/">CI/CD</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/CI-CD/">CI/CD</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <span id="more"></span>

<p><img src="https://files.mdnice.com/user/8265/6f96e402-5262-4969-b58a-699a0ac57f95.png"></p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>平时不少同学都有写博客的习惯，这里介绍一种通过Github Issue写博客并自动部署hexo到Github Page的工作流。本文主要介绍</p>
<ol>
<li>什么是Github action以及它的基本用法</li>
<li>如何开发并发布一个Github action</li>
<li>如何打造Github issue写博客并自动部署hexo到Github Page的工作流</li>
</ol>
<h2 id="什么是Github-action"><a href="#什么是Github-action" class="headerlink" title="什么是Github action"></a>什么是Github action</h2><p>GitHub action 是一个持续集成和持续交付平台，可以自动化构建、测试和部署。例如可以创建工作流来构建和测试仓库的每个pr，或将合并pr部署到生产环境</p>
<p><img src="https://files.mdnice.com/user/8265/d7d12381-5475-4c9c-83be-cfb78d12367e.png"></p>
<p>这张图从左到右分别是：</p>
<ol>
<li>Event: 触发action的事件。代表仓库中的某个触发工作流执行的行为</li>
<li>Workflow: 事件发生时运行的工作流</li>
<li>Job: 一组按顺序运行以完成任务的Step。每个Job都在自己的Runner上运行</li>
<li>Step: 一个Step可以是一个shell脚本或一个action。它将在为该Step所属的Job分配的runner上运行</li>
<li>Runner: Runner是运行作业中的步骤的虚拟机</li>
</ol>
<p>更多详情可见<a class="link"   target="_blank" rel="noopener" href="https://docs.github.com/en/action/learn-github-action/understanding-github-action#the-components-of-github-action" >github doc<i class="fas fa-external-link-alt"></i></a></p>
<p>我们在日常的CI/CD过程中，很多流程都是重复并且类似的和完全可以共享，这些能共享的能力就是一个个action。多个action集成在一起就组成了一个工作流。Github官方也提供了一个官方<a class="link"   target="_blank" rel="noopener" href="https://github.com/marketplace?category=&query=&type=action&verification=" >Github action市场<i class="fas fa-external-link-alt"></i></a>来让开发者们去发布和可以使用别人的action</p>
<p><img src="https://files.mdnice.com/user/8265/683f4e24-bfcb-4ce8-9d17-fa3ac1702e05.png"></p>
<p>基本上日常的使用场景都能成action市场上找到。本文我们后续打造的工作流我们也只需要开发一个从指定issue链接生成hexo markdown文件的action即可，其它流程都使用市场上现成的action</p>
<p>使用Github action也是非常简单。在工作流中使用<code>uses</code>去使用action，并通过<code>with</code>传入相关action参数即可。例如我们使用下文开发的指定issue链接生成hexo markdown文件的action。使用效果如下。传递几个参数</p>
<ul>
<li>issue_url: 用于生成hexo文章的issue链接</li>
<li>output: 输出的hexo文章路径</li>
<li>replace: 是否取代原先目录文件的内容<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 忽略多余配置</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">issue生成</span> <span class="string">hexo文章</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">flytam/github-issue-to-hexo@v1.0.3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">issue_url:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.ISSUE_URL</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">output:</span> <span class="string">&#x27;source/_posts&#x27;</span></span><br><span class="line">          <span class="attr">replace:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="开发并发布一个Github-action"><a href="#开发并发布一个Github-action" class="headerlink" title="开发并发布一个Github action"></a>开发并发布一个Github action</h2><p>这里我们使用Node.Js去开发指定issue链接生成hexo markdown文件的action。一个action本质上就是一个脚本读取工作流中的一些参数然后执行相关操作再输出结果</p>
<h4 id="项目基本结构"><a href="#项目基本结构" class="headerlink" title="项目基本结构"></a>项目基本结构</h4><p>使用TypeScript进行开发，初始化相关配置后的基本的目录结构如下</p>
<p><img src="https://files.mdnice.com/user/8265/1cf8ab50-822f-449a-b4a6-8ce0d3e2af7f.png"></p>
<h4 id="action-yml"><a href="#action-yml" class="headerlink" title="action.yml"></a>action.yml</h4><p>每一个Github action都需要配置一个<code>action.yml</code>配置文件，说明一些和该action有关的信息。这里我们新建的yml文件如下</p>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Github</span> <span class="string">issus</span> <span class="string">to</span> <span class="string">Hexo</span> <span class="string">action</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">Generate</span> <span class="string">hexo</span> <span class="string">article</span> <span class="string">from</span> <span class="string">github</span> <span class="string">issue</span></span><br><span class="line"><span class="attr">branding:</span></span><br><span class="line">  <span class="attr">icon:</span> <span class="string">arrow-up-circle</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">gray-dark</span></span><br><span class="line"><span class="attr">inputs:</span></span><br><span class="line">  <span class="attr">issue_url:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">The</span> <span class="string">blog</span> <span class="string">issue</span> <span class="string">link.</span> <span class="string">Like</span> <span class="string">https://github.com/flytam/blog/issues</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">output:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">The</span> <span class="string">directory</span> <span class="string">of</span> <span class="string">the</span> <span class="string">hexo</span> <span class="string">source.</span> <span class="string">Default</span> <span class="string">`process.cwd()`</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">replace:</span></span><br><span class="line">    <span class="attr">description:</span> <span class="string">Whether</span> <span class="string">to</span> <span class="string">replace</span> <span class="string">the</span> <span class="string">contents</span> <span class="string">of</span> <span class="string">the</span> <span class="string">original</span> <span class="string">directory.</span> <span class="string">Default</span> <span class="string">`false`</span></span><br><span class="line">    <span class="attr">required:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">runs:</span></span><br><span class="line">  <span class="attr">using:</span> <span class="string">node16</span></span><br><span class="line">  <span class="attr">main:</span> <span class="string">dist/index.js</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol>
<li>我们声明了3个入参，其中<code>issue_url</code>是必选参数，<code>output</code>和<code>replace</code>是可选参数</li>
<li>通过<code>runs.using</code>和<code>runs.main</code>声明了我们脚本文件的执行环境为node16、程序的入口为<code>dist/index.js</code></li>
<li><code>branding</code>。action的图标和颜色，这个是必须的 不然是不能发布到marketplace</li>
</ol>
<h4 id="逻辑开发"><a href="#逻辑开发" class="headerlink" title="逻辑开发"></a>逻辑开发</h4><p>这里我们需要对入参进行读取，这里使用官方提供的<code>@action/core</code>包</p>
<ol>
<li>参数读取<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add @action/core</span><br></pre></td></tr></table></figure>
通过<code>core.getInput</code>即可对action的入参进行读取了</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> core <span class="keyword">from</span> <span class="string">&#x27;@action/core&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = core.<span class="title function_">getInput</span>(<span class="string">&#x27;output&#x27;</span>) || <span class="string">&#x27;source/_posts&#x27;</span></span><br><span class="line"><span class="keyword">const</span> issue_url = core.<span class="title function_">getInput</span>(<span class="string">&#x27;issue_url&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> replace = core.<span class="title function_">getInput</span>(<span class="string">&#x27;replace&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>生成hexo文件<br>这里使用我之前开发的<a target="_blank" rel="noopener" href="https://github.com/flytam/CsdnSyncHexo"><code>csdnsynchexo</code></a><blockquote>
<p>csdnsynchexo是一款支持 csdn/博客园/掘金/segmentfault/腾讯云加社区/github 等平台一键迁移 hexo的工具，支持命令行调用和api调用</p>
</blockquote>
</li>
</ol>
<ol start="3">
<li>完整代码</li>
</ol>
<p>完整仓库<a class="link"   target="_blank" rel="noopener" href="https://github.com/flytam/github-issue-to-hexo" >详见<i class="fas fa-external-link-alt"></i></a></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> core <span class="keyword">from</span> <span class="string">&#x27;@action/core&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; run &#125; <span class="keyword">from</span> <span class="string">&#x27;csdnsynchexo&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; removeSync &#125; <span class="keyword">from</span> <span class="string">&#x27;fs-extra&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> output = core.<span class="title function_">getInput</span>(<span class="string">&#x27;output&#x27;</span>) || <span class="string">&#x27;source/_posts&#x27;</span></span><br><span class="line"><span class="keyword">const</span> issue_url = core.<span class="title function_">getInput</span>(<span class="string">&#x27;issue_url&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> replace = core.<span class="title function_">getInput</span>(<span class="string">&#x27;replace&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/\/(\w+)\/(\w+)\/issues(\/?)$/</span></span><br><span class="line"><span class="keyword">const</span> user = issue_url.<span class="title function_">match</span>(reg)?.[<span class="number">1</span>] || <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="keyword">const</span> repo = issue_url.<span class="title function_">match</span>(reg)?.[<span class="number">2</span>] || <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">;(<span class="title function_">async</span>() =&gt; &#123;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (replace)</span><br><span class="line">      <span class="title function_">removeSync</span>(output)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">run</span>(&#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="string">&#x27;github&#x27;</span>,</span><br><span class="line">      <span class="attr">userId</span>: user,</span><br><span class="line">      repo,</span><br><span class="line">      output,</span><br><span class="line">    &#125;, <span class="literal">false</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    core.<span class="title function_">setFailed</span>(e <span class="keyword">as</span> <span class="title class_">Error</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure>
<p>这样，我们的action执行完后，就会将hexo的文章产物输出来，后面的工作流就可以使用文章产物进行下一步操作。我们就完成了这个action的逻辑开发了</p>
<h4 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h4><p>由于Github action是不会去安装我们的依赖node_modules。这里需要使用<a target="_blank" rel="noopener" href="https://github.com/vercel/ncc"><code>ncc</code></a>去打包源码和依赖</p>
<blockquote>
<p>ncc是一个用于将 Node.js 模块及其所有依赖项编译到单个文件中的cli。并自带TypeScript支持</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pnpm add -D @vercel/ncc</span><br></pre></td></tr></table></figure>

<p>新增一个build命令用于打包<code> &quot;build&quot;: &quot;rm -rf dist &amp;&amp; ncc build src/index.ts -o dist -s&quot;,</code></p>
<p>这样我们将代码打包输出到<code>dist/index.js</code>中去</p>
<p><img src="https://files.mdnice.com/user/8265/09abe0cf-8389-4cfb-9416-8b562ccc5e78.png"></p>
<h4 id="发布到Github-action市场"><a href="#发布到Github-action市场" class="headerlink" title="发布到Github action市场"></a>发布到Github action市场</h4><ol>
<li>打tag推送到仓库</li>
<li>release中选择tag进行发布</li>
</ol>
<p><img src="https://files.mdnice.com/user/8265/a46819a7-4fc0-49d7-b76b-281138bb7d84.png"></p>
<ol start="3">
<li>然后就能在marketplace中搜到我们的action了</li>
</ol>
<p><img src="https://files.mdnice.com/user/8265/aceb1657-6db7-4b63-b0cd-95d5d874d76d.png"></p>
<h2 id="打造Github-Issue写博客并自动部署hexo到Github-Page的工作流"><a href="#打造Github-Issue写博客并自动部署hexo到Github-Page的工作流" class="headerlink" title="打造Github Issue写博客并自动部署hexo到Github Page的工作流"></a>打造Github Issue写博客并自动部署hexo到Github Page的工作流</h2><blockquote>
<p>这里我们使用两个仓库。仓库名字按实际情况修改即可</p>
<ol>
<li>私有仓库<code>flytam/blog-source</code>用于存放hexo源文件</li>
<li>公开仓库<code>flytam/blog</code>。issue负责编写博客，<code>gh-pages</code>分支用于存放hexo输出的页面产物并部署在<code>user.github.io/blog</code>上</li>
</ol>
</blockquote>
<h4 id="blog-source仓库配置"><a href="#blog-source仓库配置" class="headerlink" title="blog-source仓库配置"></a><code>blog-source</code>仓库配置</h4><blockquote>
<p>如果此前已经有现成的hexo源仓库可以跳过这一步</p>
</blockquote>
<ol>
<li>Github新建<code>blog-source</code>仓库并设置为私有仓库（当然设置为公开也可以）</li>
</ol>
<p><img src="https://files.mdnice.com/user/8265/2c9ea35c-f3da-4e97-b351-07633b3f3a1e.png"><br>2. 本地初始化hexo源仓库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx hexo-cli init blog-source</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>修改hexo配置文件<br>由于我们的仓库后面需要部署的路径是<code>https://flytam.github.io/blog</code>。因此需要将<code>_config.yml</code>的url修改成我们部署的路径</li>
</ol>
<p><img src="https://files.mdnice.com/user/8265/07f2d8c6-1cd4-4a38-9c99-ba0309827cf6.png"></p>
<ol start="4">
<li>提交源仓库<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;node_modules/&quot;</span> &gt;&gt; .gitignore</span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">&quot;feat: init&quot;</span></span><br><span class="line">git remote add origin git@github.com:flytam/blog-source.git</span><br><span class="line">git branch -M main</span><br><span class="line">git push -u origin main</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="blog仓库配置"><a href="#blog仓库配置" class="headerlink" title="blog仓库配置"></a><code>blog</code>仓库配置</h4><ol>
<li>生成<code>personal access token</code><br>在<a class="link"   target="_blank" rel="noopener" href="https://github.com/settings/tokens" >Token页面<i class="fas fa-external-link-alt"></i></a>中，点击<code>New personal access token</code>,输入名字和有效期并选择<code>Scope-&gt;repo</code>勾选，并复制生成的token</li>
</ol>
<p><img src="https://files.mdnice.com/user/8265/7d62eb3d-5edc-4834-b072-f82b132e97f4.png"></p>
<p><img src="https://files.mdnice.com/user/8265/f4c3f40a-045c-4c8d-9cda-2ad86dcc8132.png"></p>
<p>到<code>blog</code>和<code>blog-source</code>仓库下，分别<code>Settings</code>-&gt;<code>New repository secret</code> -&gt; 输入对应的name和value粘贴token并保存 。这个token用于后续action对仓库进行拉取和推送操作</p>
<p><img src="https://files.mdnice.com/user/8265/65a47fba-6aa9-47ba-93c6-90da8f0c699b.png"></p>
<ol start="2">
<li>编写<code>workflow</code><br>我们会用到如下action</li>
</ol>
<ul>
<li><a target="_blank" rel="noopener" href="https://github.com/action/checkout"><code>action/checkout@v3</code></a>。用于拉取git仓库</li>
<li><a target="_blank" rel="noopener" href="https://github.com/ad-m/github-push-action"><code>ad-m/github-push-action@master</code></a>。用于推送git仓库</li>
<li><a target="_blank" rel="noopener" href="https://github.com/flytam/github-issue-to-hexo"><code>flytam/github-issue-to-hexo@v1.0.3</code></a>。用于将github issue生成hexo文件，也就是上文我们开发的action</li>
<li><a target="_blank" rel="noopener" href="https://github.com/theme-keep/hexo-deploy-github-pages-action"><code>theme-keep/hexo-deploy-github-pages-action@master</code></a>。用于部署hexo到<code>gh-pages</code></li>
</ul>
<p><strong>在<code>blog</code>仓库的根目录下新建<code>.github/workflows/deploy.yml</code>文件。填入以下内容</strong></p>
<p>这个工作流的流程是：</p>
<ol>
<li>issue新增或者修改时触发工作流</li>
<li>拉取hexo源文件</li>
<li>将issue生成hexo源文件并输出到hexo源文件<code>blog-source</code>仓库的文章目录下并提交到<code>blog-source</code>仓库</li>
</ol>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">部署博客</span></span><br><span class="line"></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="comment"># hexo源文件仓库</span></span><br><span class="line">  <span class="attr">BLOG_SOURCE:</span> <span class="string">flytam/blog-source</span></span><br><span class="line">  <span class="comment"># issue链接</span></span><br><span class="line">  <span class="attr">ISSUE_URL:</span> <span class="string">https://github.com/flytam/blog/issues</span></span><br><span class="line">  <span class="comment"># blog部署的页面</span></span><br><span class="line">  <span class="attr">BLOG:</span> <span class="string">flytam/blog</span></span><br><span class="line">  <span class="comment"># $&#123;&#123; github.event.issue.user.login &#125;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">issues:</span></span><br><span class="line">    <span class="attr">types:</span> [<span class="string">opened</span>, <span class="string">edited</span>]</span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="comment"># 仓库作者才才能触发</span></span><br><span class="line">    <span class="attr">if:</span> <span class="string">$&#123;&#123;</span> <span class="string">github.actor</span> <span class="string">==</span> <span class="string">github.repository_owner</span> <span class="string">&#125;&#125;</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">拉取hexo源文件</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">action/checkout@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">persist-credentials:</span> <span class="string">&#x27;false&#x27;</span></span><br><span class="line">          <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.BLOG_SOURCE</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">&#x27;main&#x27;</span></span><br><span class="line">          <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.token</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">issue生成</span> <span class="string">hexo文章</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">flytam/github-issue-to-hexo@v1.0.3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">issue_url:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.ISSUE_URL</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">output:</span> <span class="string">&#x27;source/_posts&#x27;</span></span><br><span class="line">          <span class="attr">replace:</span> <span class="literal">true</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">commit</span> <span class="string">hexo源文件</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          echo $(date) &gt; update.md</span></span><br><span class="line"><span class="string">          git add .</span></span><br><span class="line"><span class="string">          git config user.name &quot;issue-to-hexo bot&quot;</span></span><br><span class="line"><span class="string">          git config user.email &quot;test@github.com&quot;</span></span><br><span class="line"><span class="string">          git commit -m &quot;Add a post&quot;</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">推送hexo源文件</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">ad-m/github-push-action@master</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">github_token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.token</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">repository:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.BLOG_SOURCE</span> <span class="string">&#125;&#125;</span></span><br></pre></td></tr></table></figure>

<p>然后配置<code>blog</code>的github page配置。<code>Settings</code>-&gt; <code>Page</code>-&gt;<code>Branch: gh-pages</code>。将<code>blog</code>仓库的<code>gh-pages</code>分支作为Github Page进行发布</p>
<p><img src="https://files.mdnice.com/user/8265/51b2000c-c3f3-4501-b3af-cdaf4818c35e.png"></p>
<p><strong>在<code>blog-source</code>仓库的根目录下新建<code>.github/workflows/deploy.yml</code>文件。填入以下内容</strong><br>这个工作流的流程是：</p>
<ol>
<li><code>blog-source</code>仓库main分支有push操作时触发</li>
<li>构建hexo静态页面并部署到公开仓库<code>blog</code>的<code>gh-pages</code>分支</li>
</ol>
<figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">部署hexo静态页面</span></span><br><span class="line"></span><br><span class="line"><span class="attr">env:</span></span><br><span class="line">  <span class="comment"># blog部署的页面</span></span><br><span class="line">  <span class="attr">BLOG:</span> <span class="string">flytam/blog</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span>    </span><br><span class="line">      <span class="bullet">-</span> <span class="string">&#x27;main&#x27;</span></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">拉取hexo源文件</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">action/checkout@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">persist-credentials:</span> <span class="string">&#x27;false&#x27;</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">&#x27;main&#x27;</span></span><br><span class="line">          <span class="attr">token:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.token</span> <span class="string">&#125;&#125;</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署hexo</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">theme-keep/hexo-deploy-github-pages-action@master</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">PUBLISH_REPOSITORY:</span> <span class="string">$&#123;&#123;</span> <span class="string">env.BLOG</span> <span class="string">&#125;&#125;</span></span><br><span class="line">          <span class="attr">BRANCH:</span> <span class="string">gh-pages</span></span><br><span class="line">          <span class="attr">PUBLISH_DIR:</span> <span class="string">./public</span></span><br><span class="line">          <span class="attr">PERSONAL_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.token</span> <span class="string">&#125;&#125;</span> </span><br></pre></td></tr></table></figure>


<ol start="3">
<li>验证</li>
</ol>
<p>我们修改<code>blog</code>下某个issue并提交，可见我们的部署已经成功了。hexo源文件更新+部署<a href="https://blog.flytam.vip/">页面https://blog.flytam.vip/</a>已更新。</p>
<p><img src="https://files.mdnice.com/user/8265/70800c3c-b530-41de-a2b6-e5c37c792fe8.png"></p>
<p><img src="https://files.mdnice.com/user/8265/abc9e8f9-d721-49aa-9522-9fd823fd7240.png"></p>
<p><img src="https://files.mdnice.com/user/8265/d44b9aa4-3516-4c31-936a-efda6ffdccdc.png"></p>
<img width="1652" alt="image" src="https://github.com/flytam/blog/assets/20512530/be46682f-46f5-4691-8a61-a6065669efb0">


<p>如果遇到了某些图片有防盗链显示不出来，在hexo的header中添加<code> &lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;</code>头即可</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>到这里，我们就完成了整个自动化部署issue到hexo博客的流程并学习到了如何开发、使用Github action。如果你觉得本文不错的话，欢迎点赞、收藏、转发、关注</p>
<p><img src="https://files.mdnice.com/user/8265/9ce83ec3-ddde-4d7f-b2af-86503a93f507.png"></p>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a class="link"   target="_blank" rel="noopener" href="https://www.freecodecamp.org/news/build-your-first-javascript-github-action/" >How to Build Your First JavaScript GitHub Action<i class="fas fa-external-link-alt"></i></a></p>
<p><a class="link"   target="_blank" rel="noopener" href="https://jeon.engineer/2021/07/28/building-github-action-to-publish-hexo-post-from-github-issue/" >Building GitHub Action to publish Hexo post from GitHub Issue<i class="fas fa-external-link-alt"></i></a></p>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Post title：打造Github Issue到Hexo部署自动工作流</li>
        <li>Post author：flytam</li>
        <li>Create time：2022-04-10 16:32:37</li>
        <li>
            Post link：https://blog.flytam.vip/打造Github Issue到Hexo部署自动工作流.html
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/CI-CD/">#CI/CD</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                    <div class="article-prev">
                        <a class="prev"
                           rel="prev"
                           href="/React%E4%B8%AD%E7%9A%84%E6%B5%85%E6%AF%94%E8%BE%83%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84.html"
                        >
                            <span class="left arrow-icon flex-center">
                              <i class="fas fa-chevron-left"></i>
                            </span>
                            <span class="title flex-center">
                                <span class="post-nav-title-item">React中的浅比较是如何工作的</span>
                                <span class="post-nav-item">Prev posts</span>
                            </span>
                        </a>
                    </div>
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/javascript%E8%A3%85%E9%A5%B0%E5%99%A8%E8%BF%9B%E5%85%A5stage3%E4%BA%86.html"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">javascript装饰器进入stage3了</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2016</span>
              -
            
            2024&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">flytam</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        <div class="info-item">
          <a target="_blank" href="https://github.com/flytam/github-issue-to-hexo">Generated by github-issue-to-hexo</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        
            <li class="tools-item rss flex-center">
                <a class="flex-center"
                   href="/atom.xml"
                   target="_blank"
                >
                    <i class="fas fa-rss"></i>
                </a>
            </li>
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E8%A8%80"><span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFGithub-action"><span class="nav-text">什么是Github action</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E5%B9%B6%E5%8F%91%E5%B8%83%E4%B8%80%E4%B8%AAGithub-action"><span class="nav-text">开发并发布一个Github action</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="nav-text">项目基本结构</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#action-yml"><span class="nav-text">action.yml</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%BB%E8%BE%91%E5%BC%80%E5%8F%91"><span class="nav-text">逻辑开发</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%93%E5%8C%85"><span class="nav-text">打包</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%91%E5%B8%83%E5%88%B0Github-action%E5%B8%82%E5%9C%BA"><span class="nav-text">发布到Github action市场</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%93%E9%80%A0Github-Issue%E5%86%99%E5%8D%9A%E5%AE%A2%E5%B9%B6%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2hexo%E5%88%B0Github-Page%E7%9A%84%E5%B7%A5%E4%BD%9C%E6%B5%81"><span class="nav-text">打造Github Issue写博客并自动部署hexo到Github Page的工作流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#blog-source%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE"><span class="nav-text">blog-source仓库配置</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#blog%E4%BB%93%E5%BA%93%E9%85%8D%E7%BD%AE"><span class="nav-text">blog仓库配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-text">总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%82%E8%80%83"><span class="nav-text">参考</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>


    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/local-search.js"></script>



    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script>




<div class="post-scripts">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>



</body>
</html>
